<!DOCTYPE html >
<html>
        <head>
          <title>unconstrained - ScalaCraft Domain 2.1.0 API - com.scalacraft.domain.v2.binary.unconstrained</title>
          <meta name="description" content="unconstrained - ScalaCraft Domain 2.1.0 API - com.scalacraft.domain.v2.binary.unconstrained" />
          <meta name="keywords" content="unconstrained ScalaCraft Domain 2.1.0 API com.scalacraft.domain.v2.binary.unconstrained" />
          <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
          
      <link href="../../../../../../lib/template.css" media="screen" type="text/css" rel="stylesheet" />
      <link href="../../../../../../lib/diagrams.css" media="screen" type="text/css" rel="stylesheet" id="diagrams-css" />
      <script type="text/javascript" src="../../../../../../lib/jquery.js" id="jquery-js"></script>
      <script type="text/javascript" src="../../../../../../lib/jquery-ui.js"></script>
      <script type="text/javascript" src="../../../../../../lib/template.js"></script>
      <script type="text/javascript" src="../../../../../../lib/tools.tooltip.js"></script>
      
      <script type="text/javascript">
         if(top === self) {
            var url = '../../../../../../index.html';
            var hash = 'com.scalacraft.domain.v2.binary.unconstrained.package';
            var anchor = window.location.hash;
            var anchor_opt = '';
            if (anchor.length >= 1)
              anchor_opt = '@' + anchor.substring(1);
            window.location.href = url + '#' + hash + anchor_opt;
         }
   	  </script>
    
        </head>
        <body class="value">
      <div id="definition">
        <img src="../../../../../../lib/package_big.png" />
        <p id="owner"><a href="../../../../../package.html" class="extype" name="com">com</a>.<a href="../../../../package.html" class="extype" name="com.scalacraft">scalacraft</a>.<a href="../../../package.html" class="extype" name="com.scalacraft.domain">domain</a>.<a href="../../package.html" class="extype" name="com.scalacraft.domain.v2">v2</a>.<a href="../package.html" class="extype" name="com.scalacraft.domain.v2.binary">binary</a></p>
        <h1>unconstrained</h1><span class="permalink">
      <a href="../../../../../../index.html#com.scalacraft.domain.v2.binary.unconstrained.package" title="Permalink" target="_top">
        <img src="../../../../../../lib/permalink.png" />
      </a>
    </span>
      </div>

      <h4 id="signature" class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">package</span>
      </span>
      <span class="symbol">
        <span class="name">unconstrained</span>
      </span>
      </h4>
      
          <div id="comment" class="fullcommenttop"></div>
        

      <div id="mbrsel">
        <div id="textfilter"><span class="pre"></span><span class="input"><input id="mbrsel-input" type="text" accesskey="/" /></span><span class="post"></span></div>
        
        
        <div id="visbl">
            <span class="filtertype">Visibility</span>
            <ol><li class="public in"><span>Public</span></li><li class="all out"><span>All</span></li></ol>
          </div>
      </div>

      <div id="template">
        <div id="allMembers">
        

        <div id="types" class="types members">
              <h3>Type Members</h3>
              <ol><li name="com.scalacraft.domain.v2.binary.unconstrained.Octet" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="OctetextendsProductwithSerializable"></a>
      <a id="Octet:Octet"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">case class</span>
      </span>
      <span class="symbol">
        <a href="Octet.html"><span class="name">Octet</span></a><span class="params">(<span name="octet">octet: <span class="extype" name="scala.Option">Option</span>[<span class="extype" name="scala.Int">Int</span>]</span>)</span><span class="result"> extends <span class="extype" name="scala.Product">Product</span> with <span class="extype" name="scala.Serializable">Serializable</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../index.html#com.scalacraft.domain.v2.binary.unconstrained.package@OctetextendsProductwithSerializable" title="Permalink" target="_top">
        <img src="../../../../../../lib/permalink.png" />
      </a>
    </span>
      <p class="shortcomment cmt">An <code>Octet</code> represents an integer in the range [0, 255].</p><div class="fullcomment"><div class="comment cmt"><p>An <code>Octet</code> represents an integer in the range [0, 255].</p><p>This class does not constrain the value of the octet beyond requiring a non-null constructor argument.</p><p>The value maybe outside the given range or undefined.</p><h5> Pattern Matching </h5><p>Pattern matching is supported as the following examples demonstrate,</p><pre><span class="num">5</span> <span class="kw">match</span> {
  <span class="kw">case</span> Octet(n) <span class="kw">=&gt;</span> n <span class="cmt">// Some(5)</span>
  <span class="kw">case</span> _ <span class="kw">=&gt;</span> <span class="std">None</span>
}</pre><p>The match target can be a string,</p><pre><span class="kw">val</span> s: <span class="std">String</span> = <span class="lit">"ff"</span>
s <span class="kw">match</span> {
  <span class="kw">case</span> Octet(n) <span class="kw">=&gt;</span> n <span class="cmt">// Some(255)</span>
  <span class="kw">case</span> _ <span class="kw">=&gt;</span> <span class="std">None</span>
}</pre><p>A null or whitespace string will match to Octet(None) while a non-hex value will not match.</p><pre><span class="kw">val</span> s: <span class="std">String</span> = <span class="lit">" "</span> * <span class="num">4</span>
s <span class="kw">match</span> {
  <span class="kw">case</span> Octet(n) <span class="kw">=&gt;</span> n  <span class="cmt">// None</span>
  <span class="kw">case</span> _ <span class="kw">=&gt;</span> <span class="std">None</span>
}</pre><pre><span class="kw">val</span> s = <span class="lit">"foobarbaz"</span>
s <span class="kw">match</span> {
  <span class="kw">case</span> Octet(n) <span class="kw">=&gt;</span> n
  <span class="kw">case</span> _ <span class="kw">=&gt;</span> <span class="std">None</span>  <span class="cmt">// None</span>
}</pre><h5> Implicit Conversions </h5><p>Implicit conversions exists which allow an instance of <code>Octet</code> to be used when an <code>Option[Int]</code> or
<code>Option[String]</code> is required.</p><pre><span class="kw">val</span> octet = Octet(<span class="num">1022</span>)  <span class="cmt">// The value is not constrained</span>
<span class="kw">val</span> i: <span class="std">Option</span>[<span class="std">Int</span>] = octet  <span class="cmt">// Some(1022)</span></pre><p>A conversion to an option of the constrained version of this class is also available.
</p></div><dl class="paramcmts block"><dt class="param">octet</dt><dd class="cmt"><p>An optional octet value
</p></dd></dl></div>
    </li><li name="com.scalacraft.domain.v2.binary.unconstrained.OctetPair" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="OctetPairextendsProductwithSerializable"></a>
      <a id="OctetPair:OctetPair"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">case class</span>
      </span>
      <span class="symbol">
        <a href="OctetPair.html"><span class="name">OctetPair</span></a><span class="params">(<span name="hi">hi: <span class="extype" name="scala.Option">Option</span>[<a href="Octet.html" class="extype" name="com.scalacraft.domain.v2.binary.unconstrained.Octet">Octet</a>]</span>, <span name="lo">lo: <span class="extype" name="scala.Option">Option</span>[<a href="Octet.html" class="extype" name="com.scalacraft.domain.v2.binary.unconstrained.Octet">Octet</a>]</span>)</span><span class="result"> extends <span class="extype" name="scala.Product">Product</span> with <span class="extype" name="scala.Serializable">Serializable</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../index.html#com.scalacraft.domain.v2.binary.unconstrained.package@OctetPairextendsProductwithSerializable" title="Permalink" target="_top">
        <img src="../../../../../../lib/permalink.png" />
      </a>
    </span>
      <p class="shortcomment cmt">An unconstrained <code>OctetPair</code> represents two <a href="Octet.html" class="extype" name="com.scalacraft.domain.v2.binary.unconstrained.Octet">Octet</a>s which are themselves unconstrained.</p><div class="fullcomment"><div class="comment cmt"><p>An unconstrained <code>OctetPair</code> represents two <a href="Octet.html" class="extype" name="com.scalacraft.domain.v2.binary.unconstrained.Octet">Octet</a>s which are themselves unconstrained.</p><p>In addition to using unconstrained octets each octet is optional. This allows an invalid pair to
be created when we have only valid octets to select from.</p><p>When interpreted as recording a single integer value using this expression 256 * hi + lo the allowable
range has a minimum of -0x8080000000 and maximum equalling 0x807ffffeff.</p><p>In decimal the representable range is [-551903297536, 551903297279].</p><h5> Pattern Matching </h5><p>Pattern matching is supported as the following examples demonstrate,</p><pre><span class="num">0</span>x3490 <span class="kw">match</span> {
  <span class="kw">case</span> OctetPair(hi, lo) <span class="kw">=&gt;</span> (hi, lo) <span class="cmt">// (Some(Octet(Some(0x34))), Some(Octet(Some(0x90)))</span>
  <span class="kw">case</span> _ <span class="kw">=&gt;</span> <span class="std">None</span>
}</pre><p>Matching will succeed against integer values larger than the range of two constrained octets,</p><pre><span class="num">0</span>x4251d <span class="kw">match</span> {
  <span class="kw">case</span> OctetPair(hi, lo) <span class="kw">=&gt;</span> (hi, lo) <span class="cmt">// (Some(Octet(Some(0x425))), Some(Octet(Some(0x1d)))</span>
  <span class="kw">case</span> _ <span class="kw">=&gt;</span> <span class="std">None</span>
}</pre><p>Negative values are matched,</p><pre>-<span class="num">257</span> <span class="kw">match</span> {
  <span class="kw">case</span> OctetPair(hi, lo) <span class="kw">=&gt;</span> (hi, lo) <span class="cmt">// (Some(Octet(Some(-1))), Some(Octet(Some(-1)))</span>
  <span class="kw">case</span> _ <span class="kw">=&gt;</span> <span class="std">None</span>
}</pre><p>The match target can be a string,</p><pre><span class="kw">val</span> s: <span class="std">String</span> = <span class="lit">"4020"</span>

s <span class="kw">match</span> {
  <span class="kw">case</span> OctetPair(hi, lo) <span class="kw">=&gt;</span> (hi, lo) <span class="cmt">// (Some(Octet(Some(0x40))), Some(Octet(Some(0x20)))</span>
  <span class="kw">case</span> _ <span class="kw">=&gt;</span> <span class="std">None</span>
}</pre><h5> Implicit Conversions </h5><p>An implicit conversion is supplied which allows an instance of <code>OctetPair</code> to be used where <code>Option[String]</code> is
required.</p><pre><span class="kw">val</span> octetPair = OctetPair(<span class="std">Some</span>(Octet(<span class="num">0</span>xab)), <span class="std">Some</span>(Octet(<span class="num">0</span>x17)))
<span class="kw">val</span> s: <span class="std">Option</span>[<span class="std">String</span>] = octetPair
s foreach(println) <span class="cmt">// ab17</span></pre><p>A conversion to an option of the constrained version of this class is also available.</p><h4>Value distribution between hi and lo octets</h4><p>With a <code>hi</code> and <code>lo</code> octet the range of representable values is bounded below by</p><pre><span class="num">256</span> * min-int-value + min-int-value</pre><p>and above by</p><pre><span class="num">256</span> * max-int-value + max-int-value</pre><p>When matching against values included in this sub-range,</p><pre>[<span class="num">256</span> * min-int-value - <span class="num">255</span>, <span class="num">256</span> * max-int-value + <span class="num">255</span>]</pre><p>the value of the <code>lo</code> octet will always be in this inclusive range,</p><pre>[<span class="num">0</span>, <span class="num">255</span>]</pre><p>For values that lie outside of this range the <code>lo</code> octet will take on values from one of
these two inclusive ranges,</p><pre>[min-int-value, -<span class="num">256</span>]
[<span class="num">256</span>, max-int-value]</pre><p>while the <code>hi</code> octet will be one of these two values,</p><pre>min-int-value
max-int-value</pre><p>Notionally the <code>hi</code> octet overflows or underflows before the <code>lo</code> octet.</p><h4>Value Distribution Examples</h4><p>When <code>OctetPair</code> is called on to match a value outside of the normal range for two octets
it will use the full range of the hi and lo octets. This involves a design choice around
which octet exceeds 0xff first. The choice here is to fill the hi octet first
and move onto the lo octet only when the hi octct can no longer be incremented.</p><p><code>&quot;0&quot;</code> matches to <code>(0x0, 0x0)</code>. The table below shows how other value are distributed across the
<code>hi</code> and <code>lo</code> octets.</p><pre>Target        Match                    Notes
------        -----                    -----
<span class="lit">"10000"</span>       (<span class="num">0</span>x100, <span class="num">0</span>x0)             The equal valued alternative (<span class="num">0</span>xff, <span class="num">0</span>x100) is not used because the hi octet should be incremented out of range first.
<span class="lit">"100ff"</span>       (<span class="num">0</span>x100, <span class="num">0</span>xff)
<span class="lit">"10100"</span>       (<span class="num">0</span>x101, <span class="num">0</span>x0)
<span class="lit">"7fffffff"</span>    (<span class="num">0</span>x7fffff, <span class="num">0</span>xff)
<span class="lit">"7fffffffff"</span>  (<span class="num">0</span>x7fffffff, <span class="num">0</span>xff)
<span class="lit">"8000000000"</span>  (<span class="num">0</span>x7fffffff, <span class="num">0</span>x100)      This shows the lo octet being incremented out of range when the hi octet has arrived at the integer maximum.
<span class="lit">"8000000201"</span>  (<span class="num">0</span>x7fffffff, <span class="num">0</span>x301)      This shows the lo octet continuing to increase <span class="kw">while</span> the hi octet remains fixed.
<span class="lit">"807ffffeff"</span>  (<span class="num">0</span>x7fffffff, <span class="num">0</span>x7fffffff) At <span class="kw">this</span> point we cannot increase the <span class="kw">match</span> target any further and still <span class="kw">match</span>.
<span class="lit">"807fffff00"</span>                           This is not matched because both the hi and lo octet were maxed out representing <span class="lit">"807ffffeff"</span>.</pre><p>Equivalent choices are made as the match target decrements towards the minimum value
representable by two integers.
</p></div><dl class="paramcmts block"><dt class="param">hi</dt><dd class="cmt"><p>non-null octet option representing the high order octet in this pair</p></dd><dt class="param">lo</dt><dd class="cmt"><p>non-null octet option representing the low order octet in this pair
</p></dd></dl></div>
    </li></ol>
            </div>

        

        <div id="values" class="values members">
              <h3>Value Members</h3>
              <ol><li name="com.scalacraft.domain.v2.binary.unconstrained.Octet" visbl="pub" data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="Octet"></a>
      <a id="Octet:Octet"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">object</span>
      </span>
      <span class="symbol">
        <a href="Octet$.html"><span class="name">Octet</span></a><span class="result"> extends <span class="extype" name="scala.Serializable">Serializable</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../index.html#com.scalacraft.domain.v2.binary.unconstrained.package@Octet" title="Permalink" target="_top">
        <img src="../../../../../../lib/permalink.png" />
      </a>
    </span>
      
    </li><li name="com.scalacraft.domain.v2.binary.unconstrained.OctetPair" visbl="pub" data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="OctetPair"></a>
      <a id="OctetPair:OctetPair"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">object</span>
      </span>
      <span class="symbol">
        <a href="OctetPair$.html"><span class="name">OctetPair</span></a><span class="result"> extends <span class="extype" name="scala.Serializable">Serializable</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../index.html#com.scalacraft.domain.v2.binary.unconstrained.package@OctetPair" title="Permalink" target="_top">
        <img src="../../../../../../lib/permalink.png" />
      </a>
    </span>
      
    </li></ol>
            </div>

        

        
        </div>

        <div id="inheritedMembers">
        
        
        </div>

        <div id="groupedMembers">
        <div class="group" name="Ungrouped">
              <h3>Ungrouped</h3>
              
            </div>
        </div>

      </div>

      <div id="tooltip"></div>

      <div id="footer">  </div>


    </body>
      </html>